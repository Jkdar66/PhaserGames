{% extends 'layouts/main.html' %}

{% block head %}
{% endblock %}

{% block content %}
    
<div id="gui">
    <div class="center">
        <button type="button" class="btn btn-primary" id="play-btn">
            Play <i class="fas fa-play icon"></i>
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#component-popup">
            Component <i class="fas fa-check icon"></i>
        </button>
        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#shop-popup">
            Shop <i class="fas fa-shopping-cart icon"></i>
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#option-popup">
            Option <i class="fas fa-cog icon"></i>
        </button>
    </div>

    <!-- Shop -->
    {% include "shop.html" %}

    <!-- Background -->
    {% with items=backgrounds %}
        {% set popup_id="background-popup" %}
        {% set target_id="background-target" %}
        {% include "popup.html" %}
    {% endwith %}

    <!-- Spcaeshipshop -->
    {% with items=spaceships %}
        {% set popup_id="spaceships-shop" %}
        {% set target_id="spaceships-shop-target" %}
        {% include "spaceship_shop.html" %}
    {% endwith %}

    <!-- Bulletshop -->
    {% with items=bullets %}
        {% set popup_id="bullets-shop" %}
        {% set target_id="bullets-target" %}
        {% include "popup.html" %}
    {% endwith %}

    <!-- Flamesshop -->
    {% with items=flames %}
        {% set popup_id="flames-shop" %}
        {% set target_id="flames-target" %}
        {% include "popup.html" %}
    {% endwith %}

    <!-- Selection -->
    {% with popup_id="component-popup" %}
        {% set spaceships=spaceships %}
        {% set bullets=bullets %}
        {% set backgrounds=backgrounds %}
        {% include "component.html" %}
    {% endwith %}

    <!--Spaceshipcomponent-->
    {% include "spaceship_component.html" %}

    <!--Bulletcomponent-->
    {% with %}
        {% set items=bullets %}
        {% set popup_title="Bullets" %}
        {% set comp_card_id="bullets" %}
        {% set popup_id="bullets-component-popup" %}
        {% include "comp_cards.html" %}
    {% endwith %}

    <!-- Backgroundcomponent -->
    <!-- {% with %}
        {% set items=backgrounds %}
        {% set title="Backgrounds" %}
        {% set comp_card_id="backgrounds" %}
        {% include "comp_cards.html" %}
    {% endwith %} -->

</div>

<div id="game">
    <button type="button" id="setting-btn" class="btn btn-primary">
        <i class="fas fa-cog icon"></i>
    </button>
    <div id="coins-status">
        {{ player["coins"] }} <i class="fas fa-coins icon"></i>
    </div>
</div>

<script type="module" src="{{ url_for('static', filename='src/main.js') }}"></script>
{% endblock %}
